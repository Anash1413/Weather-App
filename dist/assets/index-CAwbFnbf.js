(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=o(t);fetch(t.href,c)}})();const h="168771779c71f3d64106d8a88376808a",l=document.querySelector("[yourWeather]"),g=document.querySelector("[searchWeather]"),d=document.querySelector("[accessLocation]"),a=document.querySelector("[loadingPage]"),v=document.querySelector("[searchResult]"),y=document.querySelector("[searchBar]"),p=document.querySelector("[errorPage]"),L=document.querySelector("[errorMessage]");document.querySelector("[yourLocation]");document.querySelector("[cityName]");const u=document.querySelector("[Cards]");let i=l;i.classList.add("currentTab");S();function f(e){e!=i&&(i.classList.remove("currentTab"),i=e,i.classList.add("currentTab"),y.classList.contains("active")?(l.classList.add("active"),u.classList.add("active"),y.classList.remove("active"),S()):(y.classList.add("active"),l.classList.remove("active"),d.classList.remove("active"),v.classList.remove("active"),u.classList.remove("active")))}l.addEventListener("click",()=>{f(l)});g.addEventListener("click",()=>{f(g)});function S(){d.classList.add("active");const e=sessionStorage.getItem("userCoordinates");if(!e)d.classList.add("active");else{const s=JSON.parse(e);u.classList.add("active"),q(s)}}async function q(e){const{lat:s,lon:o}=e;d.classList.remove("active"),a.classList.add("active");try{const t=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${s}&lon=${o}&appid=${h}&units=metric`)).json();a.classList.remove("active"),v.classList.add("active"),u.classList.add("active"),w(t)}catch(r){console.log("error pakda gaya"),a.classList.remove("active"),p.classList.add("active");let t=document.createElement("p");t.innerText=`Something Went wrong 
 This occured by ${r}`,L.appendChild(t)}}function w(e){let s=document.querySelector("[cityName]"),o=document.querySelector("[countryFlag]"),r=document.querySelector("[weatherDesc]"),t=document.querySelector("[weatherIcon]"),c=document.querySelector("[temp]"),n=document.querySelector("[windspeed]"),x=document.querySelector("[humidity]"),$=document.querySelector("[cloudiness]");s.innerText=e?.name,o.src=`https://flagcdn.com/144x108/${e?.sys?.country.toLowerCase()}.png`,r.innerText=e?.weather?.[0]?.description,t.src=`http://openweathermap.org/img/w/${e?.weather?.[0]?.icon}.png`,c.innerText=`${e?.main?.temp.toFixed(2)} Â°C`,n.innerText=`${e?.wind?.speed.toFixed(2)} m/s`,x.innerText=`${e?.main?.humidity.toFixed(2)} %`,$.innerText=`${e?.clouds?.all.toFixed(2)} %`}const T=document.querySelector("[grantAccess]");function P(){navigator.geolocation?navigator.geolocation.getCurrentPosition(b):T.style.display="none"}function b(e){const s={lat:e.coords.latitude,lon:e.coords.longitude};console.log(s.lat),console.log(s.lon),sessionStorage.setItem("userCoordinates",JSON.stringify(s)),q(s)}T.addEventListener("click",P);const m=document.querySelector("[searchInput]"),C=document.querySelector("[searchForm]");C.addEventListener("submit",e=>{const s=m.value;e.preventDefault(),m.value!==""&&(F(s),console.log(" 1 searched "+m.value),m.value="")});async function F(e){a.classList.remove("active"),p.classList.remove("active"),d.classList.remove("active"),a.classList.add("active");try{const o=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${h}&units=metric`)).json();a.classList.remove("active"),o.cod==="404"?p.classList.add("active"):(v.classList.add("active"),u.classList.add("active"),w(o))}catch(s){console.log("error pakda gaya"),a.classList.remove("active"),p.classList.add("active");let o=document.createElement("p");o.innerText=`Something Went wrong 
 This occured by ${s}`,L.appendChild(o)}}
